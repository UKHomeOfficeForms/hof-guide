{"componentChunkName":"component---src-templates-wiki-post-js","path":"/HOF_Framework/Form Customisations/advanced-form-customisation","result":{"data":{"markdownRemark":{"html":"<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#configuring-steps\">Configuring Steps</a></p>\n<ul>\n<li><a href=\"#journey-forking\">Journey Forking</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#configuring-fields\">Configuring Fields</a></p>\n<ul>\n<li><a href=\"#conditionally-revealling-a-question\">Conditionally Revealling a Question</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<p>This section of will assume you already have a basic understanding of the framework, and have gone through Basic Form Customisation.</p>\n<h1 id=\"configuring-steps\" style=\"position:relative;\"><a href=\"#configuring-steps\" aria-label=\"configuring steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring Steps</h1>\n<h2 id=\"journey-forking\" style=\"position:relative;\"><a href=\"#journey-forking\" aria-label=\"journey forking permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Journey Forking</h2>\n<p>For each step definition can have a <code class=\"language-jstext\">next</code> property, the value of which is the next route in the journey. If the step in the form is successfully submitted, by default the <code class=\"language-jstext\">next</code> step will load. However, sometimes you will want to go to a different page depending on the users response to a quesiton in the form, this is where you can use the <code class=\"language-jstext\">forks</code> property.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"78423089294057440000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`\n'/my-page': {\n    next: '/next-page',\n    forks: [{\n        target: '/fork-page',\n        condition: {\n            field: 'example-radio',\n            value: 'superman'\n        }\n    }]\n}`, `78423089294057440000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">\n<span class=\"token string-property property\">'/my-page'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token string\">'/next-page'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">forks</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'/fork-page'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">condition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">field</span><span class=\"token operator\">:</span> <span class=\"token string\">'example-radio'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'superman'</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-jstext\">condition</code> property can also take a function. In the following example, if the field called 'name' is more than 30 characters in length, the page at '/fork-page' will be loaded.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"59803304910639610000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`\n'/my-page': {\n    next: '/next-page',\n    forks: [{\n        target: '/fork-page',\n        condition: function (req, res) {\n            return req.form.values['name'].length > 30;\n        }\n    }]\n}`, `59803304910639610000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">\n<span class=\"token string-property property\">'/my-page'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token string\">'/next-page'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">forks</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'/fork-page'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">condition</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> req<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Forks is an array and therefore each fork is interrogated in order from top to bottom. The last fork whose condition is met will assign its target to the next page variable.</p>\n<p>In this example, if the last condition resolves to true - even if the others also resolve to true - then the page at '/fork-page-three' will be loaded. The last condition to be met is always the fork used to determine the next step.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"85718220969199450000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`\n'/my-page': {\n    next: '/next-page',\n    forks: [{\n        target: '/fork-page-one',\n        condition: function (req, res) {\n            return req.form.values['name'].length > 30;\n        }\n    }, {\n        target: '/fork-page-two',\n        condition: {\n            field: 'example-radio',\n            value: 'superman'\n        }\n    }, {\n        target: '/fork-page-three',\n        condition: function (req, res) {\n            return typeof req.form.values['email'] === 'undefined';\n        }\n    }]\n}`, `85718220969199450000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">\n<span class=\"token string-property property\">'/my-page'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token string\">'/next-page'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">forks</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'/fork-page-one'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">condition</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> req<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'/fork-page-two'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">condition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">field</span><span class=\"token operator\">:</span> <span class=\"token string\">'example-radio'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'superman'</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'/fork-page-three'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">condition</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> req<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span><span class=\"token string\">'email'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id=\"configuring-fields\" style=\"position:relative;\"><a href=\"#configuring-fields\" aria-label=\"configuring fields permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring Fields</h1>\n<h2 id=\"conditionally-revealling-a-question\" style=\"position:relative;\"><a href=\"#conditionally-revealling-a-question\" aria-label=\"conditionally revealling a question permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conditionally Revealling a Question</h2>\n<p>For questions using the radio or checkbox components, you can conditonally reveal a question when they select a particular option so the user will only see a question when it is relevent to them. For more details on when to use this follow the Government Design System (GDS) Guidance.</p>\n<p><a href=\"https://design-system.service.gov.uk/components/radios/\">Radio</a>\n<a href=\"https://design-system.service.gov.uk/components/checkboxes/\">Checkboxes</a></p>\n<p>To do this using the HOF framework, in the index.js file, add the step which will have the conditional reveal question and add all the fields which will be displayed on the page, including the ones which will be conditionally revealed.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"27306545132755190000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`  steps: {\n    '/contact': {\n      fields: [\n        'contactDetails',\n        'email-text',\n        'phone-text'      \n      ]\n      next: '/address' \n    }`, `27306545132755190000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">index.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">  <span class=\"token literal-property property\">steps</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">'/contact'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">fields</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">'contactDetails'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'email-text'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'phone-text'</span>      \n      <span class=\"token punctuation\">]</span>\n      <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token string\">'/address'</span> \n    <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In the field.js file, for the main radio/ checkbox option, define the mixin for the field and add the values to each of the options. In the options array, where you would add the value of the options for the radio/checkbox, also add a <code class=\"language-jstext\">toggle</code> property to each option with the the name of the field you want to conditionally reveal.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"15795453962379580000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`    'contactDetails': {\n      mixin: 'radio-group',\n      validate: ['required'],\n      legend: {\n        className: 'visuallyhidden'\n      },\n      options: [{\n        value: 'email',\n        toggle: 'email-text'\n      }, {\n        value: 'phone',\n        toggle: 'phone-text'\n      }]\n    }, `, `15795453962379580000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">field.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">    <span class=\"token string-property property\">'contactDetails'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">mixin</span><span class=\"token operator\">:</span> <span class=\"token string\">'radio-group'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'required'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">'visuallyhidden'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'email'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'email-text'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone-text'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Once you have defined the radio/checkbox field, define your new conditionally revealed fields. With these fields you will need to add a <code class=\"language-jstext\">dependent</code> property to the field. This property will define when the field is revealed, so it takes an object with a value which will be the value of the option selected, and the a field property which will have a value which is the name of the radio/checkbox field.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"22373835221326740000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`    'contactDetails': {\n      mixin: 'radio-group',\n      validate: ['required'],\n      legend: {\n        className: 'visuallyhidden'\n      },\n      options: [{\n        value: 'email',\n        toggle: 'email-text'\n      }, {\n        value: 'phone',\n        toggle: 'phone-text'\n      }]\n    }, \n    'email-text': {\n      validate: ['required'],\n      dependent: {\n        value: 'email',\n        field: 'contactDetails'\n      }\n    },\n     'phone-text': {\n      validate: ['required'],\n      dependent: {\n        value: 'phone',\n        field: 'contactDetails'\n      }\n    },`, `22373835221326740000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">field.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">    <span class=\"token string-property property\">'contactDetails'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">mixin</span><span class=\"token operator\">:</span> <span class=\"token string\">'radio-group'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'required'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">'visuallyhidden'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'email'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'email-text'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone-text'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> \n    <span class=\"token string-property property\">'email-text'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'required'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">dependent</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'email'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">field</span><span class=\"token operator\">:</span> <span class=\"token string\">'contactDetails'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string-property property\">'phone-text'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'required'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">dependent</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">field</span><span class=\"token operator\">:</span> <span class=\"token string\">'contactDetails'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>At this point, when you view your page in your browser you will see the labels to all the fields and the radio/checkbox fields. When you then select one of these options, the input field will then appear. As you do not want to see the labels of the conditionally revealed steps before the user has selected one of the options, in the views folder, create a html file with the same name as the step, in this case contact.html and use the following code to render the radio/checkbox field only. Inbetween the <code class=\"language-jstext\">renderfield</code> tags add the name of the radio/checkbox field.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"82120165372011540000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`{{<partials-page}}\n  {{\\$page-content}}\n\n    {{#renderField}}contactDetails{{/renderField}}\n\n    {{#input-submit}}continue{{/input-submit}}\n  {{/page-content}}\n{{/partials-page}}`, `82120165372011540000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">views/contact.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jshtml line-numbers\"><code class=\"language-jshtml\">{{&lt;partials-page}}\n  {{$page-content}}\n\n    {{#renderField}}contactDetails{{/renderField}}\n\n    {{#input-submit}}continue{{/input-submit}}\n  {{/page-content}}\n{{/partials-page}}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>At this point, when you view the page you will now only see the radio/checkbox fields and when you select one of the options the field will not be revealed. To fix this, in your views folder, create a partials folder, and add a html file with the following code:</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"64197341312777360000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<div id=&quot;{{toggle}}-panel&quot; class=&quot;reveal&quot; aria-hidden=&quot;false&quot;>\n  <div class=&quot;panel-indent&quot;>\n    {{#input-text}}{{toggle}}{{/input-text}}\n  </div>\n</div>`, `64197341312777360000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">views/partials/toggle.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jshtml line-numbers\"><code class=\"language-jshtml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{{toggle}}-panel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>reveal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>panel-indent<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    {{#input-text}}{{toggle}}{{/input-text}}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In the field.js file add a <code class=\"language-jstext\">child</code> property to the options array, which will be the path to the file just created in the partials folder.</p>\n<div\n              class=\"gatsby-code-button-container govuk-visually-hidden\"\n              data-toaster-id=\"88777525217867860000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"Copied!\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`  'contactDetails': {\n    mixin: 'radio-group',\n    validate: ['required'],\n    legend: {\n      className: 'visuallyhidden'\n    },\n    options: [{\n      value: 'email',\n      toggle: 'email-text',\n      child: 'partial/toggle'\n    }, {\n      value: 'phone',\n      toggle: 'phone-text',\n      child: 'partial/toggle'\n    }]\n  },`, `88777525217867860000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"Copy to clipboard\"\n              >\n                Copy ›<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-code-title\">field.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsjs line-numbers\"><code class=\"language-jsjs\">  <span class=\"token string-property property\">'contactDetails'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">mixin</span><span class=\"token operator\">:</span> <span class=\"token string\">'radio-group'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'required'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">'visuallyhidden'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'email'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'email-text'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">child</span><span class=\"token operator\">:</span> <span class=\"token string\">'partial/toggle'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">toggle</span><span class=\"token operator\">:</span> <span class=\"token string\">'phone-text'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">child</span><span class=\"token operator\">:</span> <span class=\"token string\">'partial/toggle'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You should now have a radio/checkbox question, which will reveal another question when the user selects an options, from here you can add labels and validations to the fields.</p>","frontmatter":{"path":null,"title":"Advanced Form Customisation","tags":null}}},"pageContext":{"title":"Advanced Form Customisation","slug":"/HOF_Framework/Form Customisations/advanced-form-customisation/","tags":null,"breadcrumb":{"location":"/HOF_Framework/Form Customisations/advanced-form-customisation","crumbs":[{"pathname":"/","crumbLabel":"Home"},{"pathname":"/HOF_Framework","crumbLabel":"HOF_Framework"},{"pathname":"/HOF_Framework/Form Customisations","crumbLabel":"Form Customisations"},{"pathname":"/HOF_Framework/Form Customisations/advanced-form-customisation","crumbLabel":"advanced-form-customisation"}]}}},"staticQueryHashes":["2744294623","3649515864","3684199878"]}